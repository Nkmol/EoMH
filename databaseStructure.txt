CREATE TABLE `accounts` (
  `accountID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `username` char(13) NOT NULL,
  `password` char(255) NOT NULL,
  `flags` int(11) DEFAULT NULL,
  PRIMARY KEY (`accountID`),
  UNIQUE KEY `uniqueuser` (`username`) USING HASH
) ENGINE=InnoDB DEFAULT CHARSET=ascii;


CREATE TABLE `characters` (
  `CharacterID` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `charname` char(16) NOT NULL,
  `charClass` int(11) NOT NULL,
  `faction` int(11) DEFAULT NULL,
  `level` int(11) NOT NULL DEFAULT '1',
  `maxHP` int(11) NOT NULL,
  `currentHP` int(11) NOT NULL,
  `maxMana` int(11) NOT NULL,
  `currentMana` int(11) NOT NULL,
  `maxStamina` int(11) NOT NULL,
  `currentStamina` int(11) NOT NULL,
  `attack` int(11) NOT NULL,
  `defence` int(11) NOT NULL,
  `fame` int(11) NOT NULL,
  `flags` int(11) DEFAULT NULL,
  `locationX` int(11) NOT NULL,
  `locationY` int(11) NOT NULL,
  `map` int(11) NOT NULL,
  `intelligence` int(11) NOT NULL,
  `vitality` int(11) NOT NULL,
  `agility` int(11) NOT NULL,
  `strength` int(11) NOT NULL,
  `dexterity` int(11) NOT NULL,
  `statpoints` int(11) NOT NULL,
  `skillpoints` int(11) NOT NULL,
  `ownerID` int(10) unsigned NOT NULL,
  PRIMARY KEY (`CharacterID`),
  UNIQUE KEY `uniquename` (`charname`) USING HASH,
  KEY `owner` (`ownerID`),
  KEY `mapID` (`map`),
  CONSTRAINT `mapID` FOREIGN KEY (`map`) REFERENCES `maps` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `owner` FOREIGN KEY (`ownerID`) REFERENCES `accounts` (`accountID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=ascii;




CREATE TABLE `maps` (
  `id` int(11) NOT NULL,
  `name` varchar(45) NOT NULL,
  `gridSize` int(11) NOT NULL,
  `areaSize` int(11) NOT NULL,
  `mapx` int(11) NOT NULL,
  `mapy` int(11) NOT NULL,
  `poolSize` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=ascii;


CREATE TABLE `mobData` (
  `mobID` int(11) NOT NULL,
  `lvl` int(11) NOT NULL,
  `attack` int(11) NOT NULL,
  `defence` int(11) NOT NULL,
  `maxhp` int(11) NOT NULL,
  `basexp` int(11) NOT NULL,
  `basefame` int(11) NOT NULL,
  `aggroRange` int(11) NOT NULL,
  `attackRange` int(11) NOT NULL,
  `followRange` int(11) NOT NULL,
  `moveRange` int(11) NOT NULL,
  PRIMARY KEY (`mobID`),
  UNIQUE KEY `mobID_UNIQUE` (`mobID`)
) ENGINE=InnoDB DEFAULT CHARSET=ascii;


delimiter $$

CREATE TABLE `mobs` (
  `id` int(11) NOT NULL,
  `mobType` int(11) NOT NULL,
  `map` int(11) NOT NULL,
  `spawnCount` int(11) NOT NULL,
  `spawnRadius` int(11) NOT NULL,
  `spawnX` int(11) NOT NULL,
  `spawnY` int(11) NOT NULL,
  `respawnTime` int(11) NOT NULL,
  `waypointCount` int(11) NOT NULL,
  `waypointHop` int(11) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE KEY `id_UNIQUE` (`id`),
  KEY `type` (`mobType`),
  KEY `map` (`map`),
  CONSTRAINT `map` FOREIGN KEY (`map`) REFERENCES `maps` (`id`) ON DELETE NO ACTION ON UPDATE NO ACTION,
  CONSTRAINT `type` FOREIGN KEY (`mobType`) REFERENCES `mobData` (`mobID`) ON DELETE NO ACTION ON UPDATE NO ACTION
) ENGINE=InnoDB DEFAULT CHARSET=ascii$$



delimiter $$

CREATE TABLE `items` (
  `itemid` int(10) unsigned NOT NULL,
  `name` varchar(45) DEFAULT NULL,
  `description` varchar(45) DEFAULT NULL,
  `category` int(11) NOT NULL,
  `slot` int(11) NOT NULL,
  `width` int(11) NOT NULL,
  `height` int(11) NOT NULL,
  `consumable` tinyint(4) NOT NULL,
  `permanent` tinyint(4) NOT NULL,
  `enhancement` tinyint(4) NOT NULL,
  `faction` tinyint(4) NOT NULL,
  `min_lvl` smallint(6) NOT NULL,
  `max_lvl` smallint(6) NOT NULL,
  `monk_usable` tinyint(4) NOT NULL,
  `sin_usable` tinyint(4) NOT NULL,
  `war_usable` tinyint(4) NOT NULL,
  `mage_usable` tinyint(4) NOT NULL,
  `str_req` smallint(6) NOT NULL,
  `int_req` smallint(6) NOT NULL,
  `vit_req` smallint(6) NOT NULL,
  `agi_req` smallint(6) NOT NULL,
  `dex_req` smallint(6) NOT NULL,
  `str_attr` smallint(6) NOT NULL,
  `int_attr` smallint(6) NOT NULL,
  `vit_attr` smallint(6) NOT NULL,
  `agi_attr` smallint(6) NOT NULL,
  `dex_attr` smallint(6) NOT NULL,
  `hp_attr` smallint(6) NOT NULL,
  `mana_attr` smallint(6) NOT NULL,
  `stamina_attr` smallint(6) NOT NULL,
  `atk_attr` smallint(6) NOT NULL,
  `def_attr` smallint(6) NOT NULL,
  `atk_success` float NOT NULL,
  `def_success` float NOT NULL,
  `crit_rate` float NOT NULL,
  `crit_dmg` smallint(6) NOT NULL,
  `against_type` tinyint(4) NOT NULL,
  `type_dmg` float NOT NULL,
  `set_hash` int(10) unsigned NOT NULL,
  `pieces` tinyint(4) NOT NULL,
  `str_bonus` tinyint(4) NOT NULL,
  `int_bonus` tinyint(4) NOT NULL,
  `vit_bonus` tinyint(4) NOT NULL,
  `agi_bonus` tinyint(4) NOT NULL,
  `dex_bonus` tinyint(4) NOT NULL,
  `hp_bonus` smallint(6) NOT NULL,
  `mana_bonus` smallint(6) NOT NULL,
  `stamina_bonus` smallint(6) NOT NULL,
  `atk_bonus` tinyint(3) unsigned NOT NULL,
  `def_bonus` tinyint(3) unsigned NOT NULL,
  `atk_success_bonus` float NOT NULL,
  `def_success_bonus` float NOT NULL,
  `crit_rate_bonus` float NOT NULL,
  `type_dmg_bonus` float NOT NULL,
  `pvp_damage_inc` float NOT NULL,
  `expire_time` int(10) unsigned DEFAULT NULL,
  `base_id` int(10) unsigned DEFAULT NULL,
  `move_speed` tinyint(4) NOT NULL,
  `npc_price` int(10) unsigned DEFAULT NULL,
  `atk_range` float DEFAULT NULL,
  PRIMARY KEY (`itemid`),
  UNIQUE KEY `equid_UNIQUE` (`itemid`)
) ENGINE=InnoDB DEFAULT CHARSET=ascii$$

delimiter $$

CREATE TABLE `equipments` (
  `cap` int(10) unsigned DEFAULT '0',
  `necklace` int(10) unsigned DEFAULT '0',
  `cape` int(10) unsigned DEFAULT '0',
  `jacket` int(10) unsigned DEFAULT '0',
  `pants` int(10) unsigned DEFAULT '0',
  `armor` int(10) unsigned DEFAULT '0',
  `bracelet` int(10) unsigned DEFAULT '0',
  `weapon1` int(10) unsigned DEFAULT '0',
  `weapon2` int(10) unsigned DEFAULT '0',
  `ring1` int(10) unsigned DEFAULT '0',
  `ring2` int(10) unsigned DEFAULT '0',
  `shoes` int(10) unsigned DEFAULT '0',
  `bird` int(10) unsigned DEFAULT '0',
  `tablet` int(10) unsigned DEFAULT '0',
  `famepad` int(10) unsigned DEFAULT '0',
  `mount` int(10) unsigned DEFAULT '0',
  `beed` int(10) unsigned DEFAULT '0',
  `belongsTo` int(10) unsigned NOT NULL,
  PRIMARY KEY (`belongsTo`),
  UNIQUE KEY `belongsTo_UNIQUE` (`belongsTo`),
  KEY `belongsTo_idx` (`belongsTo`),
  CONSTRAINT `ownerID` FOREIGN KEY (`belongsTo`) REFERENCES `characters` (`CharacterID`) ON DELETE CASCADE ON UPDATE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=ascii$$















